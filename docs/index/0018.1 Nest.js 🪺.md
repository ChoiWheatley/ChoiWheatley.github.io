---
aliases: 
tags: 
description:
title: 0018.1 Nest.js ğŸªº
created: 2023-11-10T14:57:24
updated: 2023-11-11T14:49:01
---
- [[0018 Javascript â˜•ï¸]]
- [ë…¸ë§ˆë“œ ì½”ë” nest.js](https://nomadcoders.co/nestjs-fundamentals)
	- [ë…¸ë§ˆë“œ ì½”ë” typescript](https://nomadcoders.co/typescript-for-beginners)
- [NestJSë¡œ ë°°ìš°ëŠ” ë°±ì—”ë“œ í”„ë¡œê·¸ë˜ë°](https://wikidocs.net/book/7059)
- [ê³µì‹ë¬¸ì„œ](https://docs.nestjs.com)
___

## README

NestJs í•™ìŠµì„ 2023-11-10~2023-11-11 ì´í‹€ê°„ ì§„í–‰í•˜ê¸°ë¡œ í–ˆë‹¤. ê»ë°ê¸°ë§Œ ì¡°ê¸ˆ í›‘ëŠ”ë‹¤ëŠ” ëŠë‚Œìœ¼ë¡œ ê°€ê³  ë‚˜ë¨¸ì§€ëŠ” ì§ì ‘ êµ¬í˜„í•˜ë©´ì„œ ì±„ì›Œë„£ì–´ë³´ì.

## Overview

- NestJS ì„¤ì¹˜ë²•: 
	- `npm i -g nestjs/cli`
	- `nest new project-name`
	- `nest start`
- í•µì‹¬ íŒŒì¼ êµ¬ì¡°
	- `app.controller.ts`: ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ë¼ìš°í„°ì„
	- `app.controller.spec.ts`: specì´ë¼ëŠ” ì´ë¦„ì€ ìœ ë‹›í…ŒìŠ¤íŠ¸ë¥¼ ì˜ë¯¸í•¨.
	- `app.serivce.ts`: ì„œë¹„ìŠ¤ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ì— ì˜í•´ í˜¸ì¶œë˜ëŠ” ë‹¤ì–‘í•œ ì½œë°±ë“¤ì„ ë‹´ì•„ë†“ëŠ” íŒŒì¼
	- `app.module.ts`: í”„ë¡œì íŠ¸ ë©”íƒ€ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ê³³
	- `main.ts`: ì—”íŠ¸ë¦¬íŒŒì¼, `app` ìƒì„±í•¨
- ë¹ ë¥´ê²Œ ì»´íŒŒì¼í•˜ê³  ì‹¤í–‰ì‹œí‚¤ë ¤ë©´... `npm run start -- -b swc`
- hot reloadingì„ ìì²´ì ìœ¼ë¡œ ì§€ì›í•œë‹¤ : `npm run start:dev`

### Controllers

- request & responseë¥¼ ì²˜ë¦¬í•˜ëŠ” ë ˆì´ì–´.
- ìƒˆ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ë§Œë“œëŠ” ëª…ë ¹ì–´ëŠ” `nest g controller <name>`ì´ë‹¤. 
- í´ë˜ìŠ¤ ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ `@Controller(<path>)`ê°€ ë‹¬ë ¤ìˆë‹¤.
- ë©”ì„œë“œë“¤ì´ ê°ê°ì˜ ì—”ë“œí¬ì¸íŠ¸ë¡œ ì‘ìš©í•˜ê¸° ìœ„í•´ì„  `@GET([subpath])`ì™€ ê°™ì€ HTTP ë©”ì„œë“œ ì´ë¦„ì˜ ì–´ë…¸í…Œì´ì…˜ì„ ë‹¬ì•„ì•¼ í•œë‹¤.
- ì„±ê³µì ìœ¼ë¡œ ì‘ë‹µì„ ë°˜í™˜í•´ì•¼í•  ë•Œ ê¸°ë³¸ê°’ì€ 200ì´ê³ , POSTì¼ ê²½ìš° 201ì´ë‹¤. ì´ë¥¼ ì˜¤ë²„ë¼ì´ë“œí•˜ê¸° ìœ„í•´ì„  `@HttpCode(<number>)` ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤. 
	- ì—ëŸ¬ statusë¥¼ ë°˜í™˜í•  ê²½ìš° ì˜ˆì™¸ë¥¼ throwí•˜ë¼ë˜ë°?
	- ì•„ë¬´ statusë‚˜ ë°˜í™˜í•˜ê³  ì‹¶ì„ë• expressì˜ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ë¼ê³ ..
- **[Request Object](https://docs.nestjs.com/controllers#request-object)**
	- Path ì¸ìëŠ” `@Get(:id)` ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ ì •ì˜í•˜ê³  íŒŒì‹±ëœ ì¸ìëŠ” ë©”ì„œë“œ ì¸ìë¡œ ë“¤ì–´ì˜¨ë‹¤.

	```ts
	@Get(':id')
	fineOne(@Param() params: any): string {
		return param.id + 'cat';
	}
	``` 

	- request ì„¸ë¶€ì‚¬í•­ì„ ì•Œê¸° ìœ„í•´ì„  ë©”ì„œë“œ íŒŒë¼ë©”í„° ì•ì— `@Req()` ë°ì½”ë ˆì´í„°ë¥¼ ë¶™ì´ë¼ê³ ! 

	```ts
	import { Request } from 'express';
	@Get()
	fineOne(@Req() request: Request): string {
		return request.body;
	}
	``` 

	- ì´ë ‡ê²Œ ë©”ì„œë“œ íŒŒë¼ë©”í„°ë¡œ ë„£ì„ ìˆ˜ ìˆëŠ” ë°ì½”ë ˆì´í„°ë“¤ë¡œëŠ” `@Res`, `@Next`, `@Session`, `@Param`, `@Body`, `@Query`, `@Headers` ë“±ì´ ìˆê³  [ë‹¤ìŒ ë§í¬](https://docs.nestjs.com/controllers#request-object)ë¥¼ ì°¸ê³ í•˜ì‹œì˜¤.
-  deferred responseë¥¼ ë¦¬í„´í•´ë„ ëœë‹¤ê³ . Promise íƒ€ì… ê°ì²´ë¥¼ ë¦¬í„´í•˜ê²Œ ë˜ë©´ [[#RxJS]]ì˜ observable streamìœ¼ë¡œ ë¦¬í„´ì´ ë˜ê³ , ìŠ¤íŠ¸ë¦¼ì´ ëë‚ ê²½ìš° í•´ë‹¹ ì†ŒìŠ¤ì— ì•Œë¦¼ì´ ê°„ë‹¤ê³ ëŠ” í•˜ëŠ”ë° ë­” ì†Œë¦°ì§€ ì˜ ëª¨ë¥´ê² ìŒ.
- **[Request Paloads](https://docs.nestjs.com/controllers#request-payloads)**
	- DTO, Data Transfer Objectë¼ê³  ë¶ˆë¦¬ìš°ëŠ”, ë„¤íŠ¸ì›Œí¬ ì „ì†¡ì„ ìœ„í•´ ì¡´ì¬í•˜ëŠ” ê°ì²´íƒ€ì…ì€ í´ë˜ìŠ¤ë¡œ ì •ì˜ê°€ ë˜ì–´ìˆë‹¤ê³ . DTO í´ë˜ìŠ¤ ë©¤ë²„ë“¤ì€ ì§ë ¬í™” ê°€ëŠ¥í•œ íƒ€ì…ë§Œ ë“¤ì–´ì˜¬ ìˆ˜ ìˆë‚˜?
	- [[express.js]]ì—ì„œ POSTìš”ì²­ì— ëŒ€í•œ ìš”ì²­ì˜ bodyë¥¼ ëœ¯ì–´ ì›í•˜ëŠ” í‚¤ê°’ë“¤ì„ ì§ì ‘ íšë“í–ˆë‹¤ë©´, Nest.jsëŠ” DTO ê°ì²´ë¥¼ ì¸ìë¡œ ë°›ì•„ì™€ ê³§ë°”ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
	- `@Post() create(@Body() createCatDto: CreateCatDto) {...}
- app.module.ts íŒŒì¼ì— ë‚´ê°€ ì •ì˜í•œ ì»¨íŠ¸ë¡¤ëŸ¬ë“¤ì„ `@Module()` ë°ì½”ë ˆì´í„° ì•ˆì— ë„£ì„ ìˆ˜ ìˆë‹¤.

### Providers

ì˜ì¡´ì„± ì£¼ì…ë  ìˆ˜ ìˆëŠ” ë‹¤ì–‘í•œ í´ë˜ìŠ¤ë“¤ì´ë‹¤. ëŒ€í‘œì ìœ¼ë¡œ Service, Repository, Factory, Helper ë“±ì´ ìˆë‹¤. ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ì²˜ë¦¬í•  ìˆ˜ ì—†ëŠ” ë³µì¡í•œ ì‘ì—…ì„ Providerë“¤ì—ê²Œ ë„˜ê²¨ì£¼ëŠ” ì˜ˆì‹œë¥¼ ë³´ì—¬ì£¼ê³  ìˆë‹¤.

**Inversion of Control**

<https://en.wikipedia.org/wiki/Inversion_of_control>

ì›ë˜ëŠ” ìœ ì €ê°€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì½”ë“œë¥¼ í˜¸ì¶œí•˜ì§€ë§Œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì½”ë“œê°€ ì¸í„°í˜ì´ìŠ¤ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ìœ ì € ì½”ë“œë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆê²Œ ë§Œë“œëŠ” íŒ¨í„´ì„ IoCë¼ê³  ë¶€ë¥¸ë‹¤.

Dependency Injectionì´ë¼ê³ , ìƒì„±ì íƒ€ì„ì— ì˜ì¡´ì„± Providerë¥¼ ì£¼ì…í•˜ëŠ” ê³¼ì •ì„ ì˜ë¯¸.

## JS async, await, promise

<https://springfall.cc/article/2022-11/easy-promise-async-await>

> OSë ˆë²¨ì—ì„œ ìŠ¤ì¼€ì¤„ë§ì˜ ëŒ€ìƒì€ **í”„ë¡œì„¸ìŠ¤**ì´ì§€ë§Œ JS ë ˆë²¨ì—ì„œ ìŠ¤ì¼€ì¤„ë§ì˜ ëŒ€ìƒì€ **í•¨ìˆ˜**ì´ë‹¤.

ë”°ë¼ì„œ, ì½œë°±í•¨ìˆ˜ëŠ”, ë‚´ê°€ í•¨ìˆ˜ë¥¼ ì›í•  ë•Œ í˜¸ì¶œí•˜ê²Œ ë§Œë“¤ê¸° ìœ„í•œ ìˆ˜ë‹¨ìœ¼ë¡œ ë‚˜ì˜¨ ê²ƒì´ë‹¤.

> JSì—ì„œ ê¸°ë‹¤ë¦¬ëŠ” ê²ƒì€ ë™ì‹œì— í•  ìˆ˜ ìˆì§€ë§Œ, ì²˜ë¦¬í•˜ëŠ” ê²ƒì€ ë™ì‹œì— í•˜ì§€ ëª»í•œë‹¤.

[[tasks, microtasks, queues and schedules {js}]]

## RxJS

- [observable streams](http://reactivex.io/rxjs/class/es6/Observable.js~Observable.html)
