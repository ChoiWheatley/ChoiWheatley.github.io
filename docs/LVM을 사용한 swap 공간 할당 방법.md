---
aliases: 
tags: 
description:
title: LVM을 사용한 swap 공간 할당 방법
created: 2024-09-19T00:51:54
updated: 2024-09-19T00:53:10
---
[chargpt / LVM 스왑공간](https://chatgpt.com/share/66eaf723-63dc-8012-a406-2aec1da78c36) 대화를 참고하세요

> [!question] arch linux를 설치하는데 생각해보니 생각해보니 스왑공간을 위한 파티션을 생성을 안했어! 파티션을 새로 만들어야 할까, 아니면 이미 존재하는 LVM의 일정 부분을 스왑영역으로 할당해주어야 할까?

스왑 공간을 만들 때는 일반 파일 시스템 형식(예: EXT4, FAT32, NTFS 등)을 사용하지 않습니다. 스왑은 그 자체로 독립적인 공간이며, 스왑 영역에 파일 시스템을 생성하지 않습니다. 스왑 공간은 운영 체제가 메모리 관리에 사용하는 특별한 용도로만 사용됩니다.

### 스왑 공간의 형식

- 스왑 공간은 파일 시스템이 아닌 **스왑 서브시스템**에서 관리됩니다.
- 스왑 공간을 생성할 때 `mkswap` 명령을 사용하여 해당 영역을 스왑 영역으로 포맷합니다. 이 명령은 스왑 영역에 맞는 특정 헤더를 추가하여 운영 체제가 스왑으로 인식할 수 있게 만듭니다.

따라서, 스왑 공간을 만들 때는 EXT4, FAT32와 같은 파일 시스템을 고려할 필요가 없으며, 스왑 용도로만 포맷하면 됩니다.

#### 요약:

스왑 공간에는 파일 시스템 형식이 필요하지 않으며, **`mkswap`** 명령을 사용하여 스왑 공간을 생성합니다.

> [!question] 내가 genfstab 명령어를 사용하여 자동으로 fstab 파일을 만들었는데, 그 결과물이 아래와 같아. 옳게 된 건지 확인해줘:

```
# /dev/mapper/volgroup0-lv_swap
UUID=e2ea3171-27e6-46d5-9c12-fab13226f1f1
```

당신이 제공한 `fstab` 항목은 스왑 파티션을 설정하기 위한 것으로 보이며, 대체로 옳게 구성된 것 같습니다. 하나씩 살펴보겠습니다:

```
UUID=e2ea3171-27e6-46d5-9c12-fab13226f1f1    none    swap    defaults    0 0
```

- `UUID=e2ea3171-27e6-46d5-9c12-fab13226f1f1`: 스왑 파티션의 UUID가 지정되어 있습니다. 각 스토리지 장치와 파티션은 고유한 UUID를 가지고 있으며, 이를 통해 시스템이 부팅 시 해당 장치를 식별합니다.
- `none`: 마운트 지점으로 `none`이 설정되어 있습니다. 이는 스왑 공간에는 마운트 지점이 필요 없다는 것을 의미합니다.
- `swap`: 이 필드는 이 장치가 스왑으로 사용된다는 것을 나타냅니다.
- `defaults`: 기본 마운트 옵션이 사용됩니다. 스왑 공간에는 특별한 마운트 옵션이 필요하지 않으므로 `defaults`로 설정해도 문제 없습니다.
- `0 0`: 마지막 두 필드는 덤프와 fsck 검사 옵션을 의미합니다. 스왑 파티션은 덤프 또는 파일 시스템 검사를 할 필요가 없기 때문에 두 값을 모두 `0`으로 설정하는 것이 맞습니다.

### 결론:

- 이 `fstab` 항목은 정확하게 설정되어 있습니다. 스왑 영역이 부팅 시 자동으로 활성화되도록 설정되었습니다.
  
따라서, 문제 없이 올바르게 설정된 것으로 보입니다.
