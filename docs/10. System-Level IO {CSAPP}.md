---
aliases: []
tags: []
description: 11장이 의존하는 필수개념들 짚고 넘어가자
title: 10. System-Level IO {CSAPP}
created: 2023-09-14T14:07:44
updated: 2023-09-16T19:32:14
---
- [[0121 CSAPP Third Edition Bryant, Randal E. O'Hallaron, David.]]
- [[07. Input Output {SP}]] | file descriptor, standard io, `read`, `write`, `open`, `close` 등에 대한 내용.
- [[11. memory mapping and Copy-on-write (COW) {SP}]] | `fork`와 `execve`, shared library를 여러 프로세스가 공유하는 기법인 Copy on Write 기법, 대망의 `mmap`
- [[11. Network Programming {CSAPP}]] 챕터에서 `Tiny` 웹 서버를 만들 때 필요한 `RIO` 패키지가 이 챕터에 들어있음.

## README

이 파일은 사실 [[11. Network Programming {CSAPP}]], 웹 서버 만드는 데 필요한 `RIO` 패키지 때문에 넘어왔다. 파일 디스크립터와 입력출력에 대한 내용을 빠르게 짚고 바로 `RIO` 패키지 구현체로 넘어갈 것. 대충 봤는데 버퍼가 없어 빠르다고?

> 유닉스 세상에서 모든 것은 파일이다.

대학시절 교수님이 귀에 딱지가 앉도록 말씀하셨다. 그래서 파일을 어떻게 다루는지, file descriptor가 무엇인지, 파일 메타데이터를 어떻게 쓰는지 등등에 대한 내용을 [[0016 Systems Programming {ssu2021-1st} 🐼]] 수업시간에 들었다.

> `mmap`은 유닉스 세상에서 스위스 아미 나이프이다.

자세한 건 [[11. memory mapping and Copy-on-write (COW) {SP}]]에서 확인바람.

![[스크린샷 2023-09-14 오후 9.19.57.png|800]]

## 10.5. Robust Reading and Writing with the `RIO` Package

두 가지 기능을 제공한다.

1. Unbuffered Input & output: 애플리케이션 수준의 버퍼 없이 곧장 fd를 사용해 파일을 읽거나 쓸 수 있다.
	1. `rio_readn`
	2. `rio_writen`
2. Buffered Input: thread safe한 버퍼기반 입력을 통해 오버헤드를 줄인다.
	1. `rio_readnb`
	2. `rio_readlineb`

`rio_initb`: rio 객체 초기화, file descriptor 필요.
