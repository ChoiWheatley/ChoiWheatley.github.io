---
aliases: 
tags: 
description:
title: 11. Network Programming
created: 2023-09-14T20:21:34
updated: 2023-09-15T10:50:09
---

## Chapters Preview

### 11.1. The Client Server Programming Model

클라이언트 & 서버 모델은 리퀘스트 & 리스폰스 모델과 어떤 점에서 다른지, 다른 모델과 비교해서 어떤 특징을 가지고 있는지 알고싶다. 사실 너무 당연했지만 당연한 만큼 생각하지 않았던 주제이기도 하고.

### 11.2. Networks

네트워크 지식을 함양하는 챕터인듯, OSI 7 Layers에 대한 내용이 분명 나올 것이고, 이 책은 그걸 다 다루는 건 아니고, 네트워크 책이 따로 있기도 할 정도로 분량이 방대하니까. 거의 상위 레이어 (Network Layer, Transport Layer 등등)에 대해서 다루지 않을까? 그나마도 기억이 가물가물하다. 과거 수업내용을 참고하자.

### 11.3. The Global IP Internet

*Inter*net인 만큼, 네트워크와 네트워크를 이어주는 계층인 네트워크 계층에 심도있는 내용이 나올 것 같다. 어떻게 IP로 호스트를 식별하는지, 라우팅을 어떻게 하고 그래프로 표현된 네트워크 세상 속에서 최적 경로를 찾아가는지에 대한 내용이 들어있을 것 같다.

### 11.4. The Sockets Interface

소켓 통신은 어느 영역에 속하지? 네트워크 레이어보다 한 단계 올라간 전송계층인건가? 포트포워딩이 여기에서 나오나? 분명 [[Linux IPC Programming {inflearn archive}]] 공부했을 때 소켓에 대한 내용을 들었던 것 같기도 하고 [[0016 Systems Programming {ssu2021-1st} 🐼]] 시간에 파일 디스크립터 관련해서 들었던 것 같기도 하다. 빠뜨린 내용을 책 뿐만 아니라 이런 곳에서로부터 적극적으로 참고하여 메꿔보자.

### 11.5. Web Servers

바로 다음장이 Tiny Web Server를 만들기 때문에 그걸 위한 준비과정이 들어갈 것 같다. 어떤 웹 서버를 만들까? 일단 소켓 API와 File Descriptor를 활용한 방식은 꼭 들어가겠지. 코드가 나와주어야 하니까.

### 11.6. Puttling It Together: The Tiny Web Server

직접 C로 웹 서버를 만들어 보면서 맞딱뜨릴 다양한 함수들과 포트, IP, 프로세스 생성 등에 대한 내용이 나올 것 같다. [[week06 {swjungle}{proxy-lab}#2023-09-14 목]] 회의 결과에 따르면 여기까지 15일 금요일까지 어떻게든 도달한 뒤에 놓치고 간 지식을 백 트래킹 하는 방법으로 도입해 보려고 한다. 

## 실습먼저, 구멍은 나중에 메꾸자

### 11.4.9. Example Echo Client and Server

클라이언트는 stdin 입력을 그대로 서버에 보낸뒤 `echo` 결과를 서버로부터 받아와 stdout으로 출력하는 개 심플한 프로그램이다. 

**요구사항**

- EOF를 받으면 무한루프를 종료하고 fd를 닫을 것, 커맨드 라인에서 Ctrl + D를 누르면 EOF가 전송된다.

**helper functions**

- `csapp.c:open_listenfd`: Opens and returns a listening descriptor. 
	- 연결리스트 `struct addrinfo listp` 를 순회하면서 우리가 ==bind==할 수 있는 descriptor를 찾는다.
	- [?] `struct addrinfo`는 연결리스트를 가리키고 있는데, `getaddrinfo`라는 녀석을 호출하면서 리스트의 원소를 얻어오나보다.
	- [?] `Setsockopt`, `Getaddrinfo`, `Close`, `Freeaddrinfo` 와 같이 대문자로 시작하는 함수들은 책에서 정의한 헬퍼함수들이다.
	- [ ] 

## Homework Problems

[[week06 {swjungle}{proxy-lab}]]에서 제안한 과제만 아래에 적어두었다.

### 11.6c

> Inspect the output from `Tiny` to determine the version of HTTP your browser uses  
> 브라우저에서 `Tiny`의 HTTP 버전을 확인해 보세요.

### 11.7

> Extend `Tiny` so that it serves `MPG` video files. Check you work using a real browser  
> `Tiny`가 `MPG` 영상파일을 제공하도록 기능을 확장해 보세요. 실제 브라우저를 활용해 시도해 보세요.

❗️ `MPG` 포맷이 아닌, `MP4` 포맷을 사용하도록 변경.

### 11.9

> Modify `Tiny` so that when it serves static content, it copies the requested file to the connected descriptor using `malloc`, `rio_readn`, and `rio_writen`, instead of `mmap` and `rio_written`.  
> `Tiny`를 수정해서 정적 컨텐츠를 제공할 때 `malloc`, `rio_readn`, `rio_writen`을 사용해서 디스크립터가 컨텐츠를 복사하도록 만들어보세요.

어려운 용어들 나온다. descriptor는 file desciptor를 의미하나? `rio` 접두어는 무엇을 하는 녀석일까?

→ [[10. System-Level IO {CSAPP}]]에 제안된 **R**obust **IO** 패키지였다...! 11장의 디펜던시가 10장에 있었다니... 이부분도 읽어야 하나?

### 11.10

> Write an HTML form for the CGI `adder` function in Figure 11.27. Your form should include two text boxes that users fill in with the two numbers to be added together. Your form should request content using `GET` method.  
> `adder` 함수를 위한 폼 HTML을 작성하세요. 폼은 두개의 텍스트 박스로 이루어져 있으며 유저가 각각의 숫자를 채워 넣어 두 숫자를 더한 값을 확인하도록 해보세요. 폼은 `GET` 메서드를 이용하여 요청되어야 합니다.

❓ CGI? Computer Graphics Interface?

### 11.11

> Extend `Tiny` to support the HTTP `HEAD` method. Check your work using TELNET as a web client.  
> `Tiny`가 `HEAD` 메서드를 지원하도록 확장해보세요. 텔넷을 웹 클라이언트로 결과를 확인해 보세요. 

아니 요즘 누가 텔넷을 쓰냐? 맛좋은 포스트맨이 있는데!
