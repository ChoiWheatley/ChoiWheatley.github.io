---
aliases: 
tags: 
description:
title: 3. Machine Level Representation of Programs {CSAPP}
created: 2023-08-30T17:46:31
updated: 2023-09-22T14:27:25
---
- parent: [[0121 CSAPP Third Edition Bryant, Randal E. O'Hallaron, David.]]
- p.432 ~ p.752
___
본 장에서는 컴파일러가 만들어낸 어셈블리 언어를 기반으로 다양한 실험을 해볼 것이다. 명령 실행 순서를 어떻게 재정렬 하는지, 재귀호출을 반복문으로 만들어 성능을 향상시킬 수 있을지에 대한 내용을 다룬다. 이젠 굳이 어셈블리 단으로 내려가지 않아도 되는데 굳이 어셈블리쪽 코드를 훔쳐보는 이유는 더 좋은 C 코드를 작성하기 위해서기이도 하며, 멀티 스레드 프로그래밍에서 공유되는 자원과 아닌 것들에 대한 차이를 구별하기 위해서, 어떤 방식으로 악성코드가 메모리 공간을 악의적으로 사용할 수 있는지에 대한 인사이트를 얻기 위해서이다.

## INDEX

- 3.1 A Historical Perspective
	- 역사적 관점에서의 기계어? 그러면 MIPS부터 시작하나?
- [[3.2 Programming Encodings]]
	- 인코딩, 디코딩의 개념은 암호화 복호화에 대응될 수도 있고, 압축하기 압축풀기에도 대응될 수 있다. 여기에서 의미하는 인코딩은 무슨 의미일까?
- 3.3 Data Formats
	- 데이터 구조, struct?
- ⭐️ [[⭐️ 3.4 Accessing Information]]
	- 정보에 접근하는 방법이라고? 메모리에 접근한다? 또는 이진 구조에서의 데이터 멤버 (in structure)를 뜻하는 건지?
- 3.5 Arithmetic and Logical Operations
	- 정수연산, 논리연산에 대한 내용이 들어있을듯
	- load effective address (`leaq`) 메모리 값을 바로 참조하지 않음. 복잡한 수식을 여러번 메모리를 참조하지 않고 마치 수학공부할 때 x, y 계수를 조정한 뒤에 한 방에 작업을 수행하는 것과도 같다.
	- 
- 3.6 Control
	- 컨트롤 플로우 = jmp, 함수 호출, goto, 분기, 반복
	- condition flags: 1bit짜리 플래그 레지스터, 정수형 오버플로 여부를 탐지하는 carry flag, 직전 명령어가 0을 리턴했는지를 저장하는 zero flag, 직전 명령어가 음수를 리턴했는지를 저장하는 sign flag, 2의 보수로 나타낸 양수의 마지막 숫자가 음수로 넘어갔는지 여부를 탐지하는 overflow flag
	- `set` 명령어들: cmp 결과를 특정 
	- `jmp` 명령어: 
	- `loops`
- [[⭐️ 3.7 Procedures]]
	- [[⭐️ 3.8 Array Allocation and Access]]
- 3.9 Heterogeneous Data Structure (이종 데이터구조)
	- 서로다른 데이터구조? 아니었다. `struct`, `union`이었다!
- 3.10 Combining Control and Data in Machine Level Programs
	- 동작과 데이터를 기계수준의 프로그램에서 사용하는 방법
- 3.11 Floating Point Code
	- 부동소수점
- 3.12 Summary

## Coach questions

OS가 hardware와 software 사이에 있는 software다 보니 hardware에 대해서 좀 알아야 이해할 수 있는 것들이 많습니다.  
최소한 다음 질문에는 대답할 수 있는게 앞으로 프로젝트를 진행하는데 도움이 될 것이라 생각합니다.  
(사실 CS:APP 3장을 차근차근 읽어 놨다면 아는 내용입니다.)

- %rip, %rsp register의 의미와 CPU 동작에서의 역할
- assembly 명령어 JMP와 CALL의 차이점
- JMP, CALL, RET, PUSH, POP, IRET 명령에서 %rip, %rsp는 어떻게 값이 변하는가?
- interrupt 발생 시 CPU는 어떻게 동작하는가? register 값 및 연관된 memory는?
- interrupt를 처리한 후에는 어떻게 되는가?
- interrupt는 어떻게 enable/disable 시킬 수 있는가? enable/disable 되면 뭐가 달라지는가?
	- Option: NMI (Non-Maskable Interrupt)는 무엇인가?
- timer interrupt는 누가 발생시키는가?
- EFLAGS register는 무엇인가?
	- Option: "플래그 세우지 마라"의 그 flag인가?
	- Option: 왜 다른 64bit register처럼 r로 시작하지 않고 e로 시작하는가?
