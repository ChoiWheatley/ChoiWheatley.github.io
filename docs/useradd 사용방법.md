---
aliases: 
tags: 
description:
title: useradd 사용방법
created: 2024-09-16T22:23:50
updated: 2024-09-16T22:27:39
---

> [!question] 좋았어! 이제 arch-chroot /mnt 명령을 통해서 아치리눅스 설치환경으로 들어왔어. 기본 유저를 추가했는데 각 옵션들과 유저그룹에 대해서 설명해줘. 아래는 내가 입력한 명령이야:

```
useradd -m -g users -G wheel choiwheatley
```

---

명령어 `useradd -m -g users -G wheel choiwheatley`는 아치 리눅스 설치 과정에서 새로운 유저를 생성할 때 사용된 명령입니다. 각 옵션과 유저 그룹에 대한 설명을 차례대로 해드리겠습니다.

### 명령어 구성:

```bash
useradd -m -g users -G wheel choiwheatley
```

#### 1. **`useradd`**:

- **`useradd`** 는 리눅스에서 **새로운 사용자 계정**을 생성하는 명령어입니다.
- 이 명령어를 통해 시스템에 사용자 계정을 추가하고, 해당 사용자의 홈 디렉터리 및 기본 설정을 구성합니다.

#### 2. **`-m` 옵션** (홈 디렉터리 생성):

- **`-m`** 옵션은 사용자 계정을 생성할 때, **홈 디렉터리**를 자동으로 생성하는 역할을 합니다.
- 홈 디렉터리의 기본 경로는 `/home/사용자이름`으로 설정됩니다. 이 경우 `/home/choiwheatley` 디렉터리가 생성됩니다.
- 홈 디렉터리는 사용자의 개인 파일, 설정 파일 등을 저장하는 공간입니다.

#### 3. **`-g users` 옵션** (기본 그룹 설정):

- **`-g users`** 옵션은 해당 사용자가 속하게 될 **기본 그룹(primary group)** 을 지정합니다. 여기서 `users` 그룹은 일반 사용자 그룹을 의미합니다.
- **기본 그룹**은 사용자가 파일을 생성할 때, 해당 파일의 소유 그룹으로 자동 설정되는 그룹입니다.
- 예를 들어, 사용자가 어떤 파일을 생성하면 그 파일의 소유자는 `choiwheatley`, 그룹 소유자는 `users`가 됩니다.
  

#### 4. **`-G wheel` 옵션** (추가 그룹 설정):

- **`-G wheel`** 옵션은 **추가 그룹(supplementary group)** 을 지정합니다. 여기서는 `wheel` 그룹을 추가했습니다.
- **`wheel` 그룹**은 리눅스 시스템에서 특별한 권한을 가진 그룹으로, **`sudo` 명령을 통해 관리자 권한을 부여**할 수 있는 그룹입니다. 즉, 이 그룹에 속한 사용자는 `sudo`를 사용하여 루트 권한을 얻을 수 있습니다.
  - `wheel` 그룹에 속한 사용자만이 `sudo`를 통해 루트 권한을 사용할 수 있도록 설정할 수 있습니다. 이를 설정하기 위해서는 `/etc/sudoers` 파일에서 `wheel` 그룹의 사용자에게 `sudo` 권한을 부여하는 항목이 있어야 합니다.

#### 5. **`choiwheatley`** (사용자 이름):

- `choiwheatley`는 생성하려는 사용자의 **계정 이름**입니다. 이 계정 이름은 로그인할 때 사용하는 이름이 되며, `/home/choiwheatley` 경로에 홈 디렉터리가 생성됩니다.

---

### `wheel` 그룹과 `sudo` 권한 설정:

- `wheel` 그룹에 사용자를 추가하는 이유는 해당 사용자가 **`sudo` 명령**을 통해 루트 권한을 얻을 수 있게 하기 위함입니다.
- `wheel` 그룹에 속한 사용자가 `sudo`를 사용할 수 있도록 설정하려면, **`/etc/sudoers`** 파일에서 `wheel` 그룹에 대한 권한을 활성화해야 합니다. 이를 위해 `visudo` 명령을 사용하여 `sudoers` 파일을 편집할 수 있습니다.

```bash
sudo visudo
```

편집 화면에서 다음 줄이 주석 처리가 되어 있다면, 주석을 제거하여 활성화해야 합니다:

```bash
%wheel ALL=(ALL) ALL
```

이 설정을 활성화하면, `wheel` 그룹에 속한 사용자는 `sudo` 명령을 사용하여 루트 권한으로 명령을 실행할 수 있게 됩니다.

### 요약

- `useradd -m -g users -G wheel choiwheatley`는 `choiwheatley`라는 사용자 계정을 생성하면서 홈 디렉터리를 만들고, `users` 그룹을 기본 그룹으로, `wheel` 그룹을 추가 그룹으로 설정하여 **sudo 권한**을 부여하는 명령입니다.
